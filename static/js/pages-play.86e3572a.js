(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-play"],{"1de5":function(t,e,i){"use strict";t.exports=function(t,e){return e||(e={}),t=t&&t.__esModule?t.default:t,"string"!==typeof t?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},2979:function(t,e,i){"use strict";i.r(e);var n=i("71a4"),a=i("719f");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("bdda");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"304f179d",null,!1,n["a"],r);e["default"]=c.exports},"4c76":function(t,e,i){"use strict";i.r(e);var n=i("c403"),a=i("81dc");for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);i("d23a");var r,s=i("f0c5"),c=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"033e3b3a",null,!1,n["a"],r);e["default"]=c.exports},"70e0":function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.u-rate[data-v-304f179d]{display:-webkit-inline-flex;display:-webkit-inline-box;display:inline-flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin:0;padding:0}.u-icon[data-v-304f179d]{-webkit-box-sizing:border-box;box-sizing:border-box}',""]),t.exports=e},"719f":function(t,e,i){"use strict";i.r(e);var n=i("e3f9"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"71a4":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uIcon:i("1096").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-rate",attrs:{id:t.elId},on:{touchmove:function(e){e.stopPropagation(),e.preventDefault(),arguments[0]=e=t.$handleEvent(e),t.touchMove.apply(void 0,arguments)}}},t._l(t.count,(function(e,n){return i("v-uni-view",{key:n,staticClass:"u-star-wrap",class:[t.elClass]},[i("u-icon",{attrs:{name:t.activeIndex>n?t.elActiveIcon:t.inactiveIcon,color:t.activeIndex>n?t.elActiveColor:t.inactiveColor,"custom-style":{fontSize:t.size+"rpx",padding:"0 "+t.gutter/2+"rpx"},"custom-prefix":t.customPrefix,"show-decimal-icon":t.showDecimalIcon(n),percent:t.decimal,"inactive-color":t.inactiveColor},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click(n+1,e)}}})],1)})),1)},o=[]},"81dc":function(t,e,i){"use strict";i.r(e);var n=i("a080"),a=i.n(n);for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);e["default"]=a.a},"9a8ce":function(t,e,i){var n=i("24fb"),a=i("1de5"),o=i("b9ef");e=n(!1);var r=a(o);e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-033e3b3a]{background-color:#1d1d1f;color:#fff}.xgplayer[data-v-033e3b3a]{height:100%}.title[data-v-033e3b3a]{margin:0 auto;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;padding:%?20?% 0}.title .u-btn[data-v-033e3b3a]{padding:%?30?%;color:#3b3b3b}.title .label[data-v-033e3b3a]{margin:0 %?60?%}.title .slider[data-v-033e3b3a]{-webkit-box-flex:1;-webkit-flex:1;flex:1}.play-container[data-v-033e3b3a]{width:100%;position:fixed;top:0;z-index:999}.play-container .player[data-v-033e3b3a]{margin:0 auto}.content[data-v-033e3b3a]{margin:0 auto}.video-name[data-v-033e3b3a]{font-size:%?40?%;line-height:%?100?%;padding-top:%?20?%}.info[data-v-033e3b3a]{position:relative;line-height:1.8;font-size:%?30?%;padding:0 %?20?%;margin-top:%?40?%;margin-bottom:%?40?%}.info .introduction .item[data-v-033e3b3a]{display:-webkit-box;display:-webkit-flex;display:flex}.info .introduction .item .label[data-v-033e3b3a]{width:%?140?%;color:#adadad}.info .introduction .item .douban-actor[data-v-033e3b3a]{cursor:pointer}.info .introduction .item .douban-actor[data-v-033e3b3a]:hover{color:#f5f381}.info .introduction .item .info-content[data-v-033e3b3a]{display:-webkit-box;display:-webkit-flex;display:flex}.info .introduction .item .info-content .doubanicon[data-v-033e3b3a]{height:%?40?%;width:%?40?%;cursor:pointer;margin:2px %?10?% 0 %?10?%;background:url('+r+');background-size:100%}.info .introduction .item .info-content uni-text[data-v-033e3b3a]{cursor:pointer}.info .introduction .item .info-content uni-text[data-v-033e3b3a]:hover{color:#f5f381}.info .introduction .item .info-content .report[data-v-033e3b3a]{margin:unset;margin-left:8px;padding:%?10?% %?20?%;line-height:1;border-radius:0}.info .story[data-v-033e3b3a]{font-size:%?40?%;margin:%?10?% 0;color:#07ca4d}.info .desc[data-v-033e3b3a]{text-indent:2em}.info .download[data-v-033e3b3a]{position:absolute;top:0;right:100px}.banner[data-v-033e3b3a]{display:-webkit-box;display:-webkit-flex;display:flex}.banner .imgbox[data-v-033e3b3a]{margin:0 auto;width:%?1080?%;height:%?1518?%}.banner .imgbox uni-image[data-v-033e3b3a]{width:%?1080?%;height:%?1518?%}.banner .imgbox uni-swiper[data-v-033e3b3a]{width:100%;height:100%}.source[data-v-033e3b3a]{margin:0 auto}.source .swiper-item[data-v-033e3b3a]{grid-template-columns:repeat(auto-fill,%?140?%)}.source .swiper-item .item[data-v-033e3b3a]{float:left;margin-top:%?20?%;width:%?160?%;padding:%?10?%;white-space:nowrap;overflow:hidden;background:#eaeaea;margin-left:%?22?%;text-align:center;color:#525252;border-radius:%?6?%}.source .swiper-item .item[data-v-033e3b3a]:hover{cursor:pointer;-webkit-box-shadow:0 2px 20px 1px #37a862!important;box-shadow:0 2px 20px 1px #37a862!important;-webkit-transform:scale(1.01) translateY(-1px);transform:scale(1.01) translateY(-1px)}.source .swiper-item .item.active[data-v-033e3b3a]{background:#19be6b;-webkit-box-shadow:0 2px 20px 1px #37a862!important;box-shadow:0 2px 20px 1px #37a862!important;-webkit-transform:scale(1.01) translateY(-1px);transform:scale(1.01) translateY(-1px)}.recommend-films[data-v-033e3b3a]{color:#fff;font-size:%?30?%;padding-left:%?20?%}.recommend-films .item[data-v-033e3b3a]{float:left;position:relative;margin:%?20?% %?20?% %?20?% 0;width:%?360?%;margin-right:%?36?%;border-radius:%?20?%;margin-bottom:20px}.recommend-films .item[data-v-033e3b3a]:hover{cursor:pointer;-webkit-box-shadow:0 5px 20px 4px #37a862!important;box-shadow:0 5px 20px 4px #37a862!important;-webkit-transform:scale(1.02) translateY(-2px);transform:scale(1.02) translateY(-2px)}.recommend-films .item .item-rank[data-v-033e3b3a]{position:absolute;top:%?20?%;z-index:9;background-color:#ff5f00!important;font-size:14px;left:%?-12?%;padding:0 %?20?%;text-align:right}.recommend-films .item .item-rank[data-v-033e3b3a]::before{content:"";position:absolute;bottom:%?-12?%;border-top:%?12?% solid #ff5f00;border-left:%?12?% solid transparent;left:0}.recommend-films .item .film-info[data-v-033e3b3a]{padding:%?8?%;white-space:nowrap;overflow:hidden}.recommend-films .item .name[data-v-033e3b3a]{margin:%?10?% 0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}.recommend-films .item .recommend-info[data-v-033e3b3a]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?24?%;color:#ababab}@media screen and (max-width:400px){.banner[data-v-033e3b3a]{display:-webkit-box;display:-webkit-flex;display:flex}.banner .imgbox[data-v-033e3b3a]{margin:0 auto;width:%?540?%;height:%?759?%}.banner .imgbox uni-image[data-v-033e3b3a]{width:%?540?%;height:%?759?%}.banner .imgbox uni-swiper[data-v-033e3b3a]{width:100%;height:100%}.info .download[data-v-033e3b3a]{position:absolute;top:0;right:20px}}body.?%PAGE?%[data-v-033e3b3a]{background-color:#1d1d1f}',""]),t.exports=e},a080:function(t,e,i){"use strict";var n=i("4ea4");i("caad"),i("c975"),i("ac1f"),i("2532"),i("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n(i("a1a6"));var a=n(i("6b2f")),o={data:function(){return{flag:!1,name:"",id:"",http:"https://images.weserv.nl/?url=",videoInfo:{recommend:[]},sourceList:[],sourceCurrentIndex:0,sourceCurrent:"",playingSource:"",playItemIndex:0,playStyle:{width:this.$u.sys().screenWidth+"px",height:"300px"},xgPlayer:null,xgConfig:{id:"xgplayer",url:null,lang:"zh-cn",width:"100%",height:"100%",autoplay:!0,screenShot:!1,keyShortcut:"on",crossOrigin:!0,defaultPlaybackRate:1,playbackRate:[.5,1,1.25,1.5,2,3,4,5],airplay:!1,lastPlayTime:0,cssFullscreen:!0,playNext:{urlList:[]}},history:{},widthMax:this.$u.sys().screenWidth,sliderValue:0}},onLoad:function(t){this.name=t.name,this.id=t.id,this.query(),this.fixPlayStyle()},mounted:function(){this.testMediaQueryObserver()},onHide:function(){this.$u.sys().screenWidth<500&&this.xgPlayer.pause()},destroyed:function(){this.doDestroyed()},methods:{download:function(){uni.navigateTo({url:"UCC?id="+this.id+"&name="+this.name})},testMediaQueryObserver:function(){var t=this;this.mediaQueryOb=uni.createMediaQueryObserver(this),this.mediaQueryOb.observe({minWidth:560},(function(e){t.fixPlayStyle()}))},fixPlayStyle:function(){var t=this.$u.sys().screenWidth,e="fixed";t>1200&&(t=1200,e="relative");var i=9*t/16;this.playStyle={width:t+"px",height:i+"px",position:e}},doDestroyed:function(){this.playTime&&(this.history&&this.history[this.playId]?this.history[this.playId].play={last:this.itemCurrent,time:this.playTime}:this.history[this.playId]={play:{last:this.itemCurrent,time:this.playTime},name:this.videoInfo.film_name},uni.setStorageSync("history",this.history)),this.xgPlayer&&(this.xgPlayer.src="",this.xgPlayer.destroy()),uni.setStorageSync("history",this.history),uni.setStorageSync("style",this.playStyle)},query:function(){var t=this;uni.showLoading({mask:!0,title:"加载中..."}),(0,a.default)("VideoInfo",{m_id:this.id,name:this.name}).then((function(e){e&&e.data&&e.data.data&&(t.videoInfo=e.data.data,t.videoInfo.douban_genre=t.videoInfo.types,t.videoInfo.douban_state=t.videoInfo.country,t.videoInfo.douban_initial_date=t.videoInfo.releaseDate,t.flag=!0),uni.hideLoading()}))},initXgPlayer:function(t){var e=this;this.xgConfig.url=t,this.xgPlayer=new HlsJsPlayer(this.xgConfig),this.xgPlayer.on("playerNext",(function(){e.itemCurrent+=1})),this.xgPlayer.on("urlListEnd",(function(){e.itemCurrent=0})),this.xgPlayer.on("timeupdate",(function(t){e.playTime=t.currentTime}))},play:function(t){var e=this.resolveAddress[t];if(this.playItemIndex===t&&this.playingSource===e.source)return!1;if(this.playItemIndex=t,this.playingSource=e.source,!e.url||!e.url.includes("http"))return this.$u.toast("播放地址错误"),!1;var i=e.url,n=document.getElementById("xgplayer");if(document.getElementById("play-iframe")&&document.getElementById("play-iframe").remove(),i.indexOf(".m3u8")>-1)null!==this.xgPlayer?this.xgPlayer.src=i:this.initXgPlayer(i);else if(this.xgPlayer)this.xgPlayer.src=null,this.xgPlayer.destroy(),this.xgPlayer=null,setTimeout((function(){var t=document.createElement("iframe");t.src=i,t.id="play-iframe",t.width="100%",t.height="100%",n.appendChild(t)}),1e3);else{this.xgPlayer=null;var a=document.createElement("iframe");a.src=i,a.id="play-iframe",a.width="100%",a.height="100%",n.appendChild(a)}},getPlaylist:function(){},getImage:function(t){return t.douban_pic&&-1===t.douban_pic.indexOf("movie_default_medium")?t.douban_pic:t.pic},sliderWidthChange:function(t){var e=t.detail.value;this.playStyle.width=e+"px",this.playStyle.height=9*e/16+"px"},filterAttr:function(t){var e=1!==t.douban_state&&t.douban_des?t.douban_des:t.des;return e?e.replace(/<\/?.+?>/g,""):""},openURL:function(t){window.open(t)},reportErr:function(t){(0,a.default)("reportErr",{id:t._id}),this.videoInfo.douban_state=1},searchKeyword:function(t,e){var i={kwdtype:t,kwd:e};this.$store.commit("setSearchObj",i),this.$u.route({type:"redirect",url:"pages/index"})}}};e.default=o},b39a1:function(t,e,i){var n=i("70e0");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("008d0e4a",n,!0,{sourceMap:!1,shadowMode:!1})},b437:function(t,e,i){var n=i("9a8ce");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var a=i("4f06").default;a("7b302ccc",n,!0,{sourceMap:!1,shadowMode:!1})},b9ef:function(t,e){t.exports="data:image/gif;base64,R0lGODlhIAAgAPcAAAAAAAAAMwAAZgAAmQAAzAAA/wArAAArMwArZgArmQArzAAr/wBVAABVMwBVZgBVmQBVzABV/wCAAACAMwCAZgCAmQCAzACA/wCqAACqMwCqZgCqmQCqzACq/wDVAADVMwDVZgDVmQDVzADV/wD/AAD/MwD/ZgD/mQD/zAD//zMAADMAMzMAZjMAmTMAzDMA/zMrADMrMzMrZjMrmTMrzDMr/zNVADNVMzNVZjNVmTNVzDNV/zOAADOAMzOAZjOAmTOAzDOA/zOqADOqMzOqZjOqmTOqzDOq/zPVADPVMzPVZjPVmTPVzDPV/zP/ADP/MzP/ZjP/mTP/zDP//2YAAGYAM2YAZmYAmWYAzGYA/2YrAGYrM2YrZmYrmWYrzGYr/2ZVAGZVM2ZVZmZVmWZVzGZV/2aAAGaAM2aAZmaAmWaAzGaA/2aqAGaqM2aqZmaqmWaqzGaq/2bVAGbVM2bVZmbVmWbVzGbV/2b/AGb/M2b/Zmb/mWb/zGb//5kAAJkAM5kAZpkAmZkAzJkA/5krAJkrM5krZpkrmZkrzJkr/5lVAJlVM5lVZplVmZlVzJlV/5mAAJmAM5mAZpmAmZmAzJmA/5mqAJmqM5mqZpmqmZmqzJmq/5nVAJnVM5nVZpnVmZnVzJnV/5n/AJn/M5n/Zpn/mZn/zJn//8wAAMwAM8wAZswAmcwAzMwA/8wrAMwrM8wrZswrmcwrzMwr/8xVAMxVM8xVZsxVmcxVzMxV/8yAAMyAM8yAZsyAmcyAzMyA/8yqAMyqM8yqZsyqmcyqzMyq/8zVAMzVM8zVZszVmczVzMzV/8z/AMz/M8z/Zsz/mcz/zMz///8AAP8AM/8AZv8Amf8AzP8A//8rAP8rM/8rZv8rmf8rzP8r//9VAP9VM/9VZv9Vmf9VzP9V//+AAP+AM/+AZv+Amf+AzP+A//+qAP+qM/+qZv+qmf+qzP+q///VAP/VM//VZv/Vmf/VzP/V////AP//M///Zv//mf//zP///wAAAAAAAAAAAAAAACH5BAEAAPwALAAAAAAgACAAAAj/AJVNkECwoMGDCBNOECiBwQSHEB9KjEhxokQJAzMS1IhxY8ePHAc2JMig4cORDUyWLJkSIkqCKTUO3Eezps2bOGseXBktp8+c0FLG7Kjvp1GbH1WOJFmwJNOnK1+K1Di0asehMpM6NAntaE5lSicM3CpBmVecyz6m9Oiw6z5omd54epOJTty5mdz0fOtUpMuBZveBXdq0YDKaYE+u7VhyGc1PVqlKAEUTGtmOJx+6HazWJMHADDE6JbuQJqi/JUWmpMxXAla2bvXZrRP30xvbdTNt1jg6c+CzNS17DMnALXDEA1uSFOm6bOUeE3hM6CEBelHBTjGDJOumJvWCA3vUaXQj+mRvpzHHXyz5pubU4e+ZgxbdMTC05s1Pembp+pNOxhPUlMlG2U1V0nE/ueQRgj6xNRaDOdEHU2FLjQYVVFMZmFVy2mU1FH6k8Rdicy6tpZhH9L2XIoogobjQe1v9tR+HJI7VgzIBAQA7"},bdda:function(t,e,i){"use strict";var n=i("b39a1"),a=i.n(n);a.a},c403:function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return n}));var n={uButton:i("6b25").default,uTabs:i("5086").default,uRate:i("2979").default,uLazyLoad:i("088b").default},a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.flag,expression:"flag"}],staticClass:"wrap"},[i("v-uni-view",{staticClass:"title"},[i("v-uni-view",{staticClass:"btn"},[i("u-button",{attrs:{size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.$u.route("/pages/index")}}},[t._v("返回")])],1)],1),i("v-uni-view",{staticClass:"banner"},[i("v-uni-view",{staticClass:"imgbox"},[i("v-uni-swiper",{attrs:{"indicator-dots":!0,autoplay:!0,interval:3e3,duration:1e3,"indicator-color":"#000","indicator-active-color":"#fff",circular:!0}},t._l(t.videoInfo.covers,(function(e){return i("v-uni-swiper-item",[i("v-uni-view",{staticClass:"swiper-item"},[i("v-uni-image",{attrs:{src:t.http+e,mode:""}})],1)],1)})),1)],1)],1),i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"video-name"},[i("v-uni-text",{staticClass:"u-margin-right-30"},[t._v(t._s(t.videoInfo.name))])],1),i("v-uni-view",{staticClass:"source"},[t.sourceList.length>0?i("v-uni-view",[i("u-tabs",{attrs:{"bg-color":"#1d1d1f","active-color":"#19be6b","inactive-color":"#f1f1f1",list:t.sourceList,current:t.sourceCurrentIndex,"is-scroll":!0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),function(e){return t.sourceCurrentIndex=e}.apply(void 0,arguments)}}})],1):t._e(),t.sourceList.length>0?i("v-uni-view",{staticClass:"swiper-item"},t._l(t.resolveAddress,(function(e,n){return i("v-uni-view",{key:n,staticClass:"item",class:{active:t.playItemIndex===n&&t.playingSource===e.source},attrs:{"hover-stop-propagation":!0,"hover-start-time":2e3,"hover-stay-time":2e3},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.play(n)}}},[t._v(t._s(e.name))])})),1):t._e()],1),i("v-uni-view",{staticStyle:{clear:"both"}}),i("v-uni-view",{staticClass:"info"},[i("v-uni-view",{staticClass:"introduction"},[i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"label"},[t._v("类型:")]),i("v-uni-view",{staticClass:"info-content"},t._l(t.videoInfo.douban_genre,(function(e,n){return i("v-uni-text",{key:n,staticClass:"u-margin-right-10",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.searchKeyword("类型",e)}}},[t._v(t._s(e))])})),1)],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"label"},[t._v("国家/地区:")]),i("v-uni-view",{staticClass:"info-content"},[i("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchKeyword("国家",t.videoInfo.douban_state)}}},[t._v(t._s(t.videoInfo.douban_state))])],1)],1),i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"label"},[t._v("上映日期:")]),i("v-uni-view",{staticClass:"info-content"},[i("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchKeyword("上映日期",t.videoInfo.douban_initial_date)}}},[t._v(t._s(t.videoInfo.douban_initial_date))])],1)],1),1!==t.videoInfo.douban_state?i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"label"},[t._v("导演:")]),i("v-uni-view",{staticClass:"info-content"},[i("v-uni-text",{on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.searchKeyword("导演",t.videoInfo.director)}}},[t._v(t._s(t.videoInfo.directors))])],1)],1):t._e(),1!==t.videoInfo.douban_state?i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"label"},[t._v("主演:")]),i("v-uni-view",{staticStyle:{flex:"1"}},t._l(t.videoInfo.actors,(function(e,n){return i("v-uni-text",{key:n,staticClass:"u-margin-right-10 douban-actor",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.searchKeyword("主演",e)}}},[t._v(t._s(e))])})),1)],1):t._e(),1!==t.videoInfo.douban_state?i("v-uni-view",{staticClass:"item"},[i("v-uni-view",{staticClass:"label"},[t._v("豆瓣评分:")]),i("v-uni-view",{staticClass:"info-content"},[i("v-uni-view",[t._v(t._s(t.videoInfo.score))]),i("u-rate",{staticClass:"u-margin-left-10",attrs:{current:t.videoInfo.score/2,disabled:!0,"active-color":"#FFAC2D"}}),i("v-uni-view",{staticClass:"doubanicon"}),t.videoInfo.isAdmin?i("v-uni-button",{staticClass:"report",attrs:{type:"warn",size:"mini"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.reportErr(t.videoInfo)}}},[t._v("报错")]):t._e()],1)],1):t._e()],1),i("v-uni-view",{staticClass:"story"},[t._v(t._s(t.videoInfo.name)+" 的故事简介")]),i("v-uni-view",{staticClass:"desc"},[t._v(t._s(t.videoInfo.synopsis))]),i("v-uni-view",{staticClass:"download"},[i("u-button",{attrs:{type:"success",size:"medium"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.download.apply(void 0,arguments)}}},[t._v("下载资源")])],1)],1),i("v-uni-view",{staticClass:"recommend-films"},t._l(t.videoInfo.recommend,(function(e,n){return i("v-uni-view",{key:n,ref:"filmItem",refInFor:!0,staticClass:"item",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.$u.route("/pages/play",{id:e._id})}}},[i("v-uni-view",{staticClass:"item-rank"},[t._v(t._s(e.douban_rating?e.douban_rating:"0"))]),i("v-uni-view",{staticClass:"film"},[i("v-uni-view",{staticClass:"pic"},[i("u-lazy-load",{attrs:{height:428,image:t.getImage(e),"border-radius":"20","img-mode":"scaleToFill"}})],1),i("v-uni-view",{staticClass:"film-info"},[i("v-uni-view",{staticClass:"name"},[i("v-uni-text",[t._v(t._s(e.film_name))]),i("v-uni-text",[t._v(t._s(e.note))])],1),i("v-uni-view",{staticClass:"recommend-info"},[i("v-uni-view",[t._v(t._s(e.douban_initial_date?e.douban_initial_date:e.initial_year))]),i("v-uni-view",[t._v(t._s(e.douban_country?e.douban_country:e.area))])],1)],1)],1)],1)})),1),i("v-uni-view",{staticStyle:{clear:"both"}})],1)],1)},o=[]},d23a:function(t,e,i){"use strict";var n=i("b437"),a=i.n(n);a.a},e3f9:function(t,e,i){"use strict";i("a9e3"),i("e25e"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={name:"u-rate",props:{value:{type:[Number,String],default:-1},count:{type:[Number,String],default:5},current:{type:[Number,String],default:0},disabled:{type:Boolean,default:!1},size:{type:[Number,String],default:32},inactiveColor:{type:String,default:"#b2b2b2"},activeColor:{type:String,default:"#FA3534"},gutter:{type:[Number,String],default:10},minCount:{type:[Number,String],default:0},allowHalf:{type:Boolean,default:!1},activeIcon:{type:String,default:"star-fill"},inactiveIcon:{type:String,default:"star"},customPrefix:{type:String,default:"uicon"},colors:{type:Array,default:function(){return[]}},icons:{type:Array,default:function(){return[]}}},data:function(){return{elId:this.$u.guid(),elClass:this.$u.guid(),starBoxLeft:0,activeIndex:-1!=this.value?this.value:this.current,starWidth:0,starWidthArr:[]}},watch:{current:function(t){this.activeIndex=t},value:function(t){this.activeIndex=t}},computed:{decimal:function(){return this.disabled?100*this.activeIndex%100:this.allowHalf?50:void 0},elActiveIcon:function(){var t=this.icons.length;if(t&&t<=this.count){var e=Math.round(this.activeIndex/Math.round(this.count/t));return e<1?this.icons[0]:e>t?this.icons[t-1]:this.icons[e-1]}return this.activeIcon},elActiveColor:function(){var t=this.colors.length;if(t&&t<=this.count){var e=Math.round(this.activeIndex/Math.round(this.count/t));return e<1?this.colors[0]:e>t?this.colors[t-1]:this.colors[e-1]}return this.activeColor}},methods:{getElRectById:function(){var t=this;this.$uGetRect("#"+this.elId).then((function(e){t.starBoxLeft=e.left}))},getElRectByClass:function(){var t=this;this.$uGetRect("."+this.elClass).then((function(e){t.starWidth=e.width;for(var i=0;i<t.count;i++)t.starWidthArr[i]=(i+1)*t.starWidth}))},touchMove:function(t){if(!this.disabled&&t.changedTouches[0]){var e=t.changedTouches[0].pageX,i=e-this.starBoxLeft;i<=0&&(this.activeIndex=0);var n=Math.ceil(i/this.starWidth);this.activeIndex=n>this.count?this.count:n,this.activeIndex<this.minCount&&(this.activeIndex=this.minCount),this.emitEvent()}},click:function(t,e){this.disabled||(this.allowHalf,1==t?1==this.activeIndex?this.activeIndex=0:this.activeIndex=1:this.activeIndex=t,this.activeIndex<this.minCount&&(this.activeIndex=this.minCount),this.emitEvent())},emitEvent:function(){this.$emit("change",this.activeIndex),-1!=this.value&&this.$emit("input",this.activeIndex)},showDecimalIcon:function(t){return this.disabled&&parseInt(this.activeIndex)===t}},mounted:function(){this.getElRectById(),this.getElRectByClass()}};e.default=n}}]);